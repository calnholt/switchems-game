<ng-container *ngIf="isActiveMonster">
  <ng-container *ngTemplateOutlet="monsterTemplate"></ng-container>
</ng-container>
<ng-container *ngIf="!isActiveMonster">
  <sw-pushable-button [isActive]="cardsInHand >= 2 && enabled">
    <ng-container *ngTemplateOutlet="monsterTemplate"></ng-container>
  </sw-pushable-button>
</ng-container>

<ng-template #monsterTemplate>
  <div id="monster" (click)="onSelect()">
    <div class="monster-container {{backgroundClass}}"
      [ngClass]="{
        'inactive' : !isActiveMonster, 
        'selected' : selected, 
        'unselectable': (cardsInHand < 2 && !isActiveMonster) || !enabled
      }">
      <div
      [@wobble]="attacking"
      (@wobble.done)="aniDone($event)"
      [@flash]="takingDamage"
      (@flash.done)="aniDone($event)"
      [@rubberBand]="usingSpecial"
      (@rubberBand.done)="aniDone($event)">
        <img [src]="monsterIcon" 
          cardInfoTooltip 
          class="{{isOpponent ? 'reverse' : ''}}" 
          [object]="monster"
          tooltipType="MONSTER" 
          />
      </div>
      <div *ngIf="!isActiveMonster" class="discard-container">
        <img [ngClass]="{'selected' : numDiscards > 0}" [src]="discardIcon" />
        <img [ngClass]="{'selected' : numDiscards > 1}" [src]="discardIcon" />
      </div>
      <sw-monster-hp [hp]="monster.hp" [currentHp]="monster.currentHp" [initiative]="monster.initiative" />
      <sw-monster-element-breakdown [style.width]="'100%'" [weaknesses]="monster.weaknesses"
        [resistances]="monster.resistances" [switchDefense]="monster.switchDefense" />
    </div>
  </div>
</ng-template>